type Split {
  id: ID!
  creator: String!
  members: [String!]!
  defaultToken: String!
  createdAt: BigInt!
  totalDebt: BigInt!
  spendings: [Spending!]! @derivedFrom(field: "split")
  debts: [Debt!]! @derivedFrom(field: "split")
}

type Spending {
  id: ID!
  split: Split!
  spendingId: BigInt!
  title: String!
  payer: String!
  amount: BigInt!
  forWho: [String!]!
  timestamp: BigInt!
  token: String!
  txHash: String!
}

type Debt {
  id: ID!
  split: Split!
  debtor: String!
  creditor: String!
  amount: BigInt!
  token: String!
  isPaid: Boolean!
  paidAt: BigInt
  txHash: String
  payments: [DebtPayment!]! @derivedFrom(field: "debt")
}

type DebtPayment {
  id: ID!
  debt: Debt!
  amount: BigInt!
  timestamp: BigInt!
  txHash: String!
}

type UserActivity {
  id: ID!
  totalSpentETH: BigInt!
  totalSpentUSD: BigInt!
  totalReceivedETH: BigInt!
  totalReceivedUSD: BigInt!
  totalGasSpent: BigInt!
  transactionCount: Int!
  splits: [String!]!
  transactions: [Transaction!]! @derivedFrom(field: "from")
}

type Transaction {
  id: ID!
  from: UserActivity!
  to: String!
  amount: BigInt!
  token: String!
  gasUsed: BigInt!
  gasPrice: BigInt!
  timestamp: BigInt!
  status: String!
  blockNumber: BigInt!
  txType: String!
}
