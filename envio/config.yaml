# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
name: satoshi-split-indexer
description: Multi-chain expense splitting indexer for SatoshiSplit

networks:
  - id: 11155111
    start_block: 0
    contracts:
      - name: SplitManager
        address:
          - '0x0000000000000000000000000000000000000000'
        handler: src/EventHandlers.ts
        events:
          - event: 'SplitCreated(uint256 indexed splitId, address indexed creator, address[] initialMembers, address defaultToken)'
          - event: 'MemberAdded(uint256 indexed splitId, address indexed member)'
          - event: 'MemberRemoved(uint256 indexed splitId, address indexed member)'
          - event: 'SpendingAdded(uint256 indexed splitId, uint256 spendingId, string title, address indexed payer, uint256 amount, address[] forWho, address token)'
          - event: 'DebtPaid(uint256 indexed splitId, address indexed debtor, address indexed creditor, uint256 amount, address token)'

unordered_multichain_mode: false
preload_handlers: true
address_format: lowercase

field_selection:
  transaction_fields:
    - 'from'
    - 'to'
    - 'hash'
    - 'transactionIndex'
    - 'gasPrice'
  block_fields:
    - 'timestamp'
    - 'number'
